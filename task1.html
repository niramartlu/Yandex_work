<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.3/jquery.min.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="slyle1.css">

<script type="text/javascript">
(function($){
    $.fn.leftclick = function(action) 				//объявляем плагин, в качестве аргумента у нас будет выступать некое действие
	{
        this.each(function()
		{
            $(this).mousedown(function(event)		//перехватываем событие мыши
			{
                    if (event.which == 1) 			//находим левую кнопку	
						{
							action.call( $(this)); 	
							return false;			//отменяем действие по умолчанию
						} 
					else 
						{
							return true;			//иначе все оставляем как есть
						}
            });            
        });
        return $(this);
    };
})(jQuery);

$(document).ready(function() {
        var flag = "true";        
	    $('h1').leftclick(function()				//"ловим" в теге h1 нужное нам действие
		{
			if(flag) 	{$(this).css("color", "#0000ff"); flag = !flag;}//делаем смену цвета текста
			else 		{$(this).css("color", "#ff0000"); flag = !flag;}	
		}
		);
        
        $('h2').click(function(){ alert('Событие click() не переопределено!') });//ловим в теге h2 нужное действие и показываем, что оно не переопределено
});
</script>

<title>Left Click</title>
</head>

<body>
	<div id="header">jQuery Left Click</div>
	<div id="content">
		<h1>Click me!</h1>
		<p>
			Если щелкнуть левой кнопкой мыши на надпись выше, то она изменит цвет на синий. Повторный щелчок сменит цвет на красный.
			
		</p>   
		
		<h2>Standart click.</h2>
		<p>
			Если щелкнуть левой кнопкой мыши на надпись выше, то надпись останется прежней. Здесь событие click() стандартное.
		</p>
	</div>
</body>
</html>